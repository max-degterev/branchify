#!/usr/bin/env node

var exec = require('child_process').exec;

var args = process.argv.slice(2),
    create = false,
    input, output, dogeify, dogeified;

if (args[0] === 'dogeify') {
  args.shift();

  dogeify = ['wow', 'such', 'very', 'much', 'many', 'so', 'amaze', 'do want', 'good'];
  dogeified = [];

  for (var _i = 0; _i < args.length; _i++) {
    dogeified.push(dogeify[_i]);
    dogeified.push(args[_i]);
  }

  dogeified.push('wow');
  args = dogeified;
}

if (args[0] === 'create') {
  create = true;
  args.shift();
}

input = args.join('-');
output = input.toLowerCase().replace(/[\s\?\+\/\\\.\[\]\{\}~±§!@#$%^&*()=⁄€‹›ﬁ‡°·¡™£¢∞¶•ªº–≠«»÷<>≤≥¿;:|"'’`_,]/g, '');

if (!create) {
  console.log(output);
}
else {
  exec('git checkout -b ' + output);
}
